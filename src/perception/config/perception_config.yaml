# Perception Node 配置文件

# 分割模块配置 (SAM2)
segmentation:
  config_path: "config/sam2_config.yaml"
  models_dir: "models"
  confidence_threshold: 0.5

# 点云模块配置
pointcloud:
  output_frame_id: "camera_color_optical_frame"
  min_point_count: 10
  min_depth_mm: 100
  max_depth_mm: 10000
  max_invalid_depth_ratio: 0.8

# 向量化模块配置
vectorizer:
  clip:
    model: "openai/clip-vit-base-patch32"
    device: "cuda"
  dino:
    model_path: "models/dinov2_vits14.pth"
    device: "cuda"
    feature_dim: 384

# 向量索引配置
vector_index:
  index_type: "IndexFlatL2"  # 或 "IndexFlatIP"
  clip_dimension: 512
  dino_dimension: 384

# 存储配置
storage:
  data_dir: "data"  # 相对于 package 目录
  max_objects: 10000
  max_samples_per_object: 100

# 抓取模块配置
grasp:
  model_path: "models/contact_graspnet/model.pt"
  config_path: "models/contact_graspnet/config.yaml"
  max_candidates: 50
  min_confidence: 0.1  # Contact-GraspNet 输出范围约 0-0.2
  num_input_points: 20000
  z_range: [0.2, 1.0]  # 点云深度范围（米）

# 超时配置 (秒)
timeouts:
  segment: 10.0
  pointcloud: 5.0
  vectorize: 15.0
  grasp: 5.0
  total_process: 45.0
