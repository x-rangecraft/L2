robot_driver:
  ros__parameters:
    can_channel: can0
    joint_state_rate: 30.0
    diagnostics_rate: 1.0
    command_timeout_s: 600.0
    zero_gravity_default: true
    xyz_only_mode: false
    log_dir: /home/jetson/L2/log/robot_driver
    safe_pose_file: config/safe_pose_config.yaml
    robot_description_file: robot_description.yaml
    publish_tf: true
    tf_base_frame: base_link
    tf_tool_frame: tool0
    diag_hardware_id: robot_driver_node
    diagnostic_latch_sec: 5.0
    cartesian_command_rate_limit: 0.15
    joint_state_topic: /joint_states
    diagnostics_topic: /robot_driver/diagnostics
    follow_joint_trajectory_action: /robot_driver/action/follow_joint_trajectory
    joint_command_action: /robot_driver/action/joint
    robot_command_action: /robot_driver/action/robot
    safety_pose_action: /robot_driver/action/safety_pose
    zero_gravity_service: /robot_driver/service/zero_gravity
    can_reset_script: ""
    can_cleanup_script: src/driver/scripts/cleanup_can_interface.sh
    can_cleanup_force: true
    can_cleanup_on_recover: true
    hardware_reconnect_backoff_s: 5.0
    hardware_reconnect_max_attempts: 0
    joint_command_mode: position
    joint_command_rate_limit: 0.5
    enable_joint_velocity_fuse: false
    # Gripper (夹爪) 相关配置，供 /robot_driver/action/gripper 使用。
    # 这些参数与具体硬件绑定，上层 Action 调用只需关心 width_m（米）。
    gripper.max_width_m: 0.094             # 夹爪最大开口宽度（单位：米），当前实测约 94mm
    gripper.open_width_default_m: 0.06     # 默认“打开”目标宽度（例如 60mm，可按现场调整）
    gripper.grip_width_max_m: 0.094        # GRIP 模式下允许的最大闭合行程（通常等于 max_width_m）
    gripper.no_object_margin_ratio: 0.1    # 用于区分“夹到物体”与“空抓到极限”的行程裕度比例
    gripper.contact_effort_threshold: 5.0  # 若需为 gripper 单独调节接触力矩阈值，可使用此值覆盖默认
    safe_pose_fallback:
      joint_names:
        - joint1
        - joint2
        - joint3
        - joint4
        - joint5
        - joint6
      positions:
        - 0.0
        - -0.3
        - 0.6
        - -1.2
        - 0.8
        - 0.0
      ready: false
